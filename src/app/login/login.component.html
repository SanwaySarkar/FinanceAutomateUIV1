<div class="layout-container flex h-full grow flex-col items-center justify-center">

  <header class="flex w-full items-center justify-between whitespace-nowrap border-b border-solid border-b-[#3C3F4A] px-10 py-3">
    <div class="flex items-center gap-4 text-[#F9FAFA]">
      <div class="size-4">
        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M24 45.8096C19.6865 45.8096 15.4698 44.5305 11.8832 42.134C8.29667 39.7376 5.50128 36.3314 3.85056 32.3462C2.19985 28.361 1.76794 23.9758 2.60947 19.7452C3.451 15.5145 5.52816 11.6284 8.57829 8.5783C11.6284 5.52817 15.5145 3.45101 19.7452 2.60948C23.9758 1.76795 28.361 2.19986 32.3462 3.85057C36.3314 5.50129 39.7376 8.29668 42.134 11.8833C44.5305 15.4698 45.8096 19.6865 45.8096 24L24 24L24 45.8096Z"
            fill="currentColor"
          ></path>
        </svg>
        </div>
        <button (click)="redirectToHome()" class="text-[#F9FAFA] text-lg font-bold leading-tight tracking-[-0.015em] hover:text-[#607AFB] transition-colors duration-200">3finity AI</button>
      </div>
    
  </header>
  <div *ngIf="isLoading" class="absolute">
    <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"></div>
  </div>
  <div class="w-full max-w-md bg-[#2d2d2d] rounded-lg shadow-xl p-8 mx-auto my-8">
    <h1 class="text-3xl font-bold text-white mb-2">Welcome Back!</h1>
    <p class="text-gray-400 mb-8">Log in to your account to continue.</p>
    
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-6">
      <div class="space-y-4">
        <div class="relative">
          <label for="username" class="text-sm text-gray-400">Username</label>
          <input
            id="username"
            formControlName="username"
            type="text"
            class="mt-1 w-full px-4 py-3 bg-[#1e1e1e] border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors"
            placeholder="Enter your username"
          />
          <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched" 
               class="text-red-500 text-sm mt-1">
            Username is required.
          </div>
        </div>

        <div class="relative">
          <label for="password" class="text-sm text-gray-400">Password</label>
          <input
            id="password"
            formControlName="password"
            type="password"
            class="mt-1 w-full px-4 py-3 bg-[#1e1e1e] border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors"
            placeholder="Enter your password"
          />
          <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
               class="text-red-500 text-sm mt-1">
            Password is required.
          </div>
        </div>
      </div>

      <div class="flex items-center justify-between">
        <a href="#" class="text-sm text-blue-500 hover:text-blue-400 transition-colors">Forgot your password?</a>
      </div>

      <button
        type="submit"
        [disabled]="loginForm.invalid"
        class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
      >
        Log In
      </button>

      <div class="text-center">
        <div *ngIf="errorMessage" class="mt-4 text-center" [innerHTML]="errorMessage"></div>
      </div>
    </form>

    <div class="mt-6 text-center">
      <p class="text-gray-400">
        Don't have an account?
        <a routerLink="/signup" class="text-blue-500 hover:text-blue-400 transition-colors">Sign Up</a>
      </p>
    </div>
  </div>
</div>