<div
      class="relative flex size-full min-h-screen flex-col bg-[#141729] dark group/design-root overflow-x-hidden"
      style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'
    >
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#3C3F4A] px-4 md:px-10 py-3 gap-4 md:gap-0">
          <div class="flex items-center gap-4 text-[#F9FAFA]">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M24 45.8096C19.6865 45.8096 15.4698 44.5305 11.8832 42.134C8.29667 39.7376 5.50128 36.3314 3.85056 32.3462C2.19985 28.361 1.76794 23.9758 2.60947 19.7452C3.451 15.5145 5.52816 11.6284 8.57829 8.5783C11.6284 5.52817 15.5145 3.45101 19.7452 2.60948C23.9758 1.76795 28.361 2.19986 32.3462 3.85057C36.3314 5.50129 39.7376 8.29668 42.134 11.8833C44.5305 15.4698 45.8096 19.6865 45.8096 24L24 24L24 45.8096Z"
                  fill="currentColor"
                ></path>
              </svg>
              </div>
              <button (click)="redirectToHome()" class="text-[#F9FAFA] text-lg font-bold leading-tight tracking-[-0.015em] hover:text-[#607AFB] transition-colors duration-200">3finity AI</button>
            </div>
          <div class="flex flex-1 justify-end gap-8">
            <div class="flex gap-2">
              <button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 bg-[#3C3F4A] text-[#F9FAFA] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-4">
                <div class="text-[#F9FAFA]" data-icon="User" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"></path>
                  </svg>
                </div>
                <span class="truncate">{{ userName }}</span>
              </button>
              <button class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]" (click)="logout()">
                <span class="truncate">Sign Out</span>
              </button>
            </div>
          </div>
        </header>
        <div class="gap-1 px-6 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col w-80">
            <div class="flex h-full min-h-[700px] flex-col justify-between bg-[#141729] p-4">
              <div class="flex flex-col gap-4">
                <div class="flex gap-3">
                  
                </div>
                <div class="flex flex-col gap-2">
                    <div 
                      class="flex items-center gap-3 px-3 py-2 cursor-pointer transition-transform transform hover:scale-105"
                      [ngClass]="{'highlight': selectedForm === 'retirement'}"
                      (click)="toggleRetirementForm()"
                    >
                      <div class="text-white" data-icon="GraduationCap" data-size="24px" data-weight="regular">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                          <path d="M251.76,88.94l-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V240a8,8,0,0,0,16,0V199.51a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12ZM128,200c-43.27,0-68.72-21.14-80-33.71V126.4l76.24,40.66a8,8,0,0,0,7.52,0L176,143.47v46.34C163.4,195.69,147.52,200,128,200Zm80-33.75a97.83,97.83,0,0,1-16,14.25V134.93l16-8.53ZM188,118.94l-.22-.13-56-29.87a8,8,0,0,0-7.52,14.12L171,128l-43,22.93L25,96,128,41.07,231,96Z"></path>
                        </svg>
                      </div>
                      <p class="text-white text-sm font-medium leading-normal">Retirement Planning</p>
                    </div>
                    <div 
                      class="flex items-center gap-3 px-3 py-2 cursor-pointer transition-transform transform hover:scale-105"
                      [ngClass]="{'highlight': selectedForm === 'specificGoal'}"
                      (click)="selectSpecificGoal()"
                    >
                      <div class="text-white" data-icon="Target" data-size="24px" data-weight="regular">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                          <path d="M221.87,83.16A104.1,104.1,0,1,1,195.67,49l22.67-22.68a8,8,0,0,1,11.32,11.32l-96,96a8,8,0,0,1-11.32-11.32l27.72-27.72a40,40,0,1,0,17.87,31.09,8,8,0,1,1,16-.9,56,56,0,1,1-22.38-41.65L184.3,60.39a87.88,87.88,0,1,0,23.13,29.67,8,8,0,0,1,14.44-6.9Z"></path>
                      </svg>
                      </div>
                      <p class="text-white text-sm font-medium leading-normal">Specific Goal</p>
                    </div>
                  </div>
              </div>
            </div>
          </div>
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <div class="flex min-w-72 flex-col gap-3">
                <p class="text-white text-4xl font-black leading-tight tracking-[-0.033em]">Smart Financial Planning</p>
                <p class="text-[#919aca] text-base font-normal leading-normal">Harness the power of AI for personalized financial recommendations.</p>
              </div>
            </div>
            <form [formGroup]="retirementFormv1" (ngSubmit)="submitRetirementFormDriver()">
            <div  *ngIf="showRetirementForm"  class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Current Age</p>
                <input
                  formControlName="currentAge"
                  placeholder="Enter your age"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#333d6b] bg-[#1c213b] focus:border-[#333d6b] h-14 placeholder:text-[#919aca] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
                <div *ngIf="retirementFormv1.get('currentAge')?.invalid && retirementFormv1.get('currentAge')?.touched" class="error">
                  required.
                </div>
              </label>
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Retirement Age</p>
                <input
                  placeholder="Enter retirement age"
                  formControlName="retirementAge"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#333d6b] bg-[#1c213b] focus:border-[#333d6b] h-14 placeholder:text-[#919aca] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
                <div *ngIf="retirementFormv1.get('retirementAge')?.invalid && retirementFormv1.get('retirementAge')?.touched" class="error">
                   required.
                </div>
              </label>
            </div>
            <div  *ngIf="showRetirementForm"  class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Inflation Rate</p>
                <input
                  placeholder="Enter inflation rate"
                  formControlName="inflationRate"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#333d6b] bg-[#1c213b] focus:border-[#333d6b] h-14 placeholder:text-[#919aca] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
                <div *ngIf="retirementFormv1.get('inflationRate')?.invalid && retirementFormv1.get('inflationRate')?.touched" class="error">
                  required.
                </div>
              </label>
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Monthly Expected Savings</p>
                <input
                  placeholder="Monthly expected savings"
                  formControlName="monthlyExpectedSavings"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#333d6b] bg-[#1c213b] focus:border-[#333d6b] h-14 placeholder:text-[#919aca] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
                <div *ngIf="retirementFormv1.get('preRetirementReturn')?.invalid && retirementFormv1.get('preRetirementReturn')?.touched" class="error">
                  required.
                </div>
              </label>
            </div>
            <div  *ngIf="showRetirementForm" class="flex max-w-480 flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Post-Retirement Return</p>
                <input
                  placeholder="Enter post-retirement return"
                  formControlName="postRetirementReturn"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#333d6b] bg-[#1c213b] focus:border-[#333d6b] h-14 placeholder:text-[#919aca] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
                <div *ngIf="retirementFormv1.get('postRetirementReturn')?.invalid && retirementFormv1.get('postRetirementReturn')?.touched" class="error">
                  required.
                </div>
              </label>
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Risk Appetite</p>
                <!-- Risk Tolerance Dropdown -->
              <div class="input-group">
                <select class="form-input bg-gray-700 text-gray-200" formControlName="riskTolerance" required>
                  <option value="" disabled selected>Select</option>
                  <option value="High Return">High</option>
                  <option value="High Sharpe Ratio">Moderate</option>
                  <option value="Low Volatility">Low</option>
                </select>
                <div *ngIf="retirementFormv1.get('riskTolerance')?.invalid && retirementFormv1.get('riskTolerance')?.touched" class="error">
                  Risk Tolerance is required.
                </div>
              </div>
              </label>
            </div>
         
            <div *ngIf="showRetirementForm" class="flex px-4 py-3">
              <button
              class="flex min-w-84 max-w-480 cursor-pointer items-center overflow-hidden rounded-full h-12 px-5 bg-[#6376d5] text-white gap-2 pl-5 text-base font-bold leading-normal tracking-[0.015em]"
              [disabled]="retirementFormv1.invalid || isLoading"
            >
              <div *ngIf="!isLoading" class="text-white" data-icon="ArrowRight" data-size="24px" data-weight="regular">
                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"></path>
                </svg>
              </div>
              <div *ngIf="isLoading" class="animate-spin">
                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
              </div>
              <span class="truncate">{{ isLoading ? 'Generating...' : 'Generate Retirement Plan' }}</span>
            </button>
            </div>
            </form>

            <!-----specific form-->
            <form [formGroup]="specificGoalFormv1" (ngSubmit)="submitSpecificFormDriver()">
            <div  *ngIf="showSpecificGoalForm"  class="flex max-w-480 flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Target Amount</p>
                <input
                  placeholder="Enter your target amount"
                  formControlName="amountNeeded"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#333d6b] bg-[#1c213b] focus:border-[#333d6b] h-14 placeholder:text-[#919aca] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
                <div *ngIf="specificGoalFormv1.get('amountNeeded')?.invalid && specificGoalFormv1.get('amountNeeded')?.touched" class="error">
                  required.
                </div>
              </label>
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Time Frame in Years</p>
                <input
                  placeholder="Time Frame"
                  formControlName="timeFrame"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#333d6b] bg-[#1c213b] focus:border-[#333d6b] h-14 placeholder:text-[#919aca] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
                <div *ngIf="specificGoalFormv1.get('timeFrame')?.invalid && specificGoalFormv1.get('timeFrame')?.touched" class="error">
                  required.
                </div>
              </label>
            </div>
            <div  *ngIf="showSpecificGoalForm"  class="flex max-w-480 flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Monthly Savings</p>
                <input
                  placeholder="Enter your monthly savings amount"
                  formControlName="monthlySavingsReq"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#333d6b] bg-[#1c213b] focus:border-[#333d6b] h-14 placeholder:text-[#919aca] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
                <div *ngIf="specificGoalFormv1.get('monthlySavingsReq')?.invalid && specificGoalFormv1.get('monthlySavingsReq')?.touched" class="error">
                  required.
                </div>
              </label>
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Risk Appetite</p>
                <select class="form-input bg-gray-700 text-gray-200" formControlName="riskTolerance" required>
                  <option value="" disabled selected>Select</option>
                  <option value="High Return">High</option>
                  <option value="High Sharpe Ratio">Moderate</option>
                  <option value="Low Volatility">Low</option>
                </select>
                <div *ngIf="specificGoalFormv1.get('riskTolerance')?.invalid && specificGoalFormv1.get('riskTolerance')?.touched" class="error">
                  Risk Tolerance is required.
                </div>
              </label>
            </div>
            <div  *ngIf="showSpecificGoalForm" class="flex px-4 py-3 ">
              <button
                class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center  overflow-hidden rounded-full h-12 px-5 bg-[#6376d5] text-white gap-2 pl-5 text-base font-bold leading-normal tracking-[0.015em]"
                [disabled]="specificGoalFormv1.invalid || isLoading"
                >
                <div *ngIf="!isLoading" class="text-white" data-icon="ArrowRight" data-size="24px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"
                    ></path>
                  </svg>
                </div>
                <div *ngIf="isLoading" class="animate-spin">
                  <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                </div>
                <span class="truncate">{{ isLoading ? 'Generating...' : 'Generate Suggestion' }}</span>
              </button>
            </div>
            </form>
            <div  *ngIf="flagRetire" class="flex flex-wrap gap-4 p-4">
              <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#333d6b]">
                <p class="text-white text-base font-medium leading-normal">Monthly Investment</p>
                <p class="text-white tracking-light text-2xl font-bold leading-tight">{{monthlySavings | currency:'INR':'symbol':'1.0-0'}}</p>
              </div>
              <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#333d6b]">
                <p class="text-white text-base font-medium leading-normal">Total Corpus Needed</p>
                <p class="text-white tracking-light text-2xl font-bold leading-tight">{{ corpusAmount | currency:'INR':'symbol':'1.0-0' }}</p>
              </div>
              <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#333d6b]">
                <p class="text-white text-base font-medium leading-normal">Future Income</p>
                <p class="text-white tracking-light text-2xl font-bold leading-tight">{{ future_monthly_income | currency:'INR':'symbol':'1.0-0' }}</p>
              </div>
              <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#333d6b]">
                <p class="text-white text-base font-medium leading-normal">Time to Goal</p>
                <p class="text-white tracking-light text-2xl font-bold leading-tight">{{timeInyears}} years</p>
              </div>
            </div>
            <div  *ngIf="flagSpecific" class="flex flex-wrap gap-4 p-4">
              <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#333d6b]">
                <p class="text-white text-base font-medium leading-normal">Monthly Investment</p>
                <p class="text-white tracking-light text-2xl font-bold leading-tight">{{monthlyInvest | currency:'INR':'symbol':'1.0-0'}}</p>
              </div>
              <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#333d6b]">
                <p class="text-white text-base font-medium leading-normal">Target Amount</p>
                <p class="text-white tracking-light text-2xl font-bold leading-tight">{{ targetAmount | currency:'INR':'symbol':'1.0-0' }}</p>
              </div>
              <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#333d6b]">
                <p class="text-white text-base font-medium leading-normal">Time to Goal</p>
                <p class="text-white tracking-light text-2xl font-bold leading-tight">{{durationInYears}} years</p>
              </div>
            </div>
            <h2 *ngIf="flagRetire || flagSpecific" class="text-white tracking-light text-[25px] font-bold leading-tight px-4 text-left pb-3 pt-5"> Investment Allocation</h2>
            <div *ngIf="flagRetire || flagSpecific" class="flex gap-3 p-3 overflow-x-hidden">
              <div *ngFor="let investment of investmentPortfolio" >
              <div class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#262d4f] pl-2 pr-4">
                <div class="text-white" data-icon="ChartPie" data-size="30px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm71.87,53.27L136,114.14V40.37A88,88,0,0,1,199.87,77.27ZM120,40.37v83l-71.89,41.5A88,88,0,0,1,120,40.37ZM128,216a88,88,0,0,1-71.87-37.27L207.89,91.12A88,88,0,0,1,128,216Z"
                    ></path>
                  </svg>
                </div>
                <p class="text-white text-sm font-medium leading-normal">{{ investment.allocationPercentage }} {{ investment.assetType }}
                  <!-- <span class="tooltip ml-2">
                    <i class="fas fa-question-circle text-gray-500 cursor-pointer" (click)="filterMutFundData(investment.assetType)"></i>
                    <span class="tooltiptext">See all funds of this asset type</span>
                  </span> -->
                </p>
              </div>
              </div>
              <!-- <div class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#262d4f] pl-2 pr-4">
                <div class="text-white" data-icon="ChartBar" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M224,200h-8V40a8,8,0,0,0-8-8H152a8,8,0,0,0-8,8V80H96a8,8,0,0,0-8,8v40H48a8,8,0,0,0-8,8v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16ZM160,48h40V200H160ZM104,96h40V200H104ZM56,144H88v56H56Z"
                    ></path>
                  </svg>
                </div>
                <p class="text-white text-sm font-medium leading-normal">25% Small Cap Fund</p>
              </div>
              <div class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#262d4f] pl-2 pr-4">
                <div class="text-white" data-icon="ChartLine" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"
                    ></path>
                  </svg>
                </div>
                <p class="text-white text-sm font-medium leading-normal">20% Dividend Yield Fund</p>
              </div>
              <div class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#262d4f] pl-2 pr-4">
                <div class="text-white" data-icon="ChartScatter" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V200H224A8,8,0,0,1,232,208ZM132,160a12,12,0,1,0-12-12A12,12,0,0,0,132,160Zm-24-56A12,12,0,1,0,96,92,12,12,0,0,0,108,104ZM76,176a12,12,0,1,0-12-12A12,12,0,0,0,76,176Zm96-48a12,12,0,1,0-12-12A12,12,0,0,0,172,128Zm24-40a12,12,0,1,0-12-12A12,12,0,0,0,196,88Zm-20,76a12,12,0,1,0,12-12A12,12,0,0,0,176,164Z"
                    ></path>
                  </svg>
                </div>
                <p class="text-white text-sm font-medium leading-normal">25% Index Fund/ETFs</p>
              </div>
            </div> -->
            </div>
            <h2 *ngIf="flagRetire || flagSpecific" class="text-white tracking-light text-[28px] font-bold leading-tight px-4 text-left pb-3 pt-5"> Portfolio Allocation</h2>
            <!-- <h4 *ngIf="flagRetire || flagSpecific" class="table-b63604b9-f405-4dd7-955a-183a79b493b4-column-240 h-[72px] px-4 py-2 w-[400px] text-[#919aca] text-sm font-normal leading-normal"> {{planOverview}}</h4> -->
            <div *ngIf="flagRetire || flagSpecific" class="px-4 py-3 @container">
              <h4  class="text-white tracking-light text-sm font-medium leading-normal"> {{planOverview}}</h4><br><br>
              <div class="flex overflow-hidden rounded-xl border border-[#333d6b] bg-[#141729]">
                <table class="flex-1">
                  <thead>
                    <tr class="bg-[#1c213b]">
                      <th class="table-b63604b9-f405-4dd7-955a-183a79b493b4-column-120 px-4 py-3 text-left text-white w-[400px] text-sm font-medium leading-normal">Fund Name</th>
                      <th class="table-b63604b9-f405-4dd7-955a-183a79b493b4-column-240 px-4 py-3 text-left text-white w-[400px] text-sm font-medium leading-normal">
                        Allocation (%)
                      </th>
                      <th class="table-b63604b9-f405-4dd7-955a-183a79b493b4-column-360 px-4 py-3 text-left text-white w-[400px] text-sm font-medium leading-normal">Amount</th>
                      <th class="table-b63604b9-f405-4dd7-955a-183a79b493b4-column-480 px-4 py-3 text-left text-white w-[400px] text-sm font-medium leading-normal">Remarks</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-t border-t-[#333d6b]" *ngFor="let fund of recommendedPortfolio">
                      <td class="able-b63604b9-f405-4dd7-955a-183a79b493b4-column-120 h-[72px] px-4 py-2 w-[400px] text-white text-sm font-normal leading-normal">
                        {{ fund.fundName }}
                        <div class="text-sm text-gray-400 mt-1" title="1W: {{ fund['1W'] }}, 1M: {{ fund['1M'] }}, 3M: {{ fund['3M'] }}, 6M: {{ fund['6M'] }}, 1Y: {{ fund['1Y'] }}, 2Y: {{ fund['2Y'] }}, 3Y: {{ fund['3Y'] }}, 5Y: {{ fund['5Y'] }}, 10Y: {{ fund['10Y'] }}, Avg: {{ fund.averageReturn }}">
                          <i class="fas fa-info-circle"></i> Past Returns
                        </div>
                      </td>
                      <td class="table-b63604b9-f405-4dd7-955a-183a79b493b4-column-240 h-[72px] px-4 py-2 w-[400px] text-[#919aca] text-sm font-normal leading-normal">{{ fund.allocationPercentage }}%</td>
                      <td class="table-b63604b9-f405-4dd7-955a-183a79b493b4-column-240 h-[72px] px-4 py-2 w-[400px] text-[#919aca] text-sm font-normal leading-normal">{{ fund.allocationAmount | currency:'INR':'symbol' }}</td>
                      <td class="table-b63604b9-f405-4dd7-955a-183a79b493b4-column-240 h-[72px] px-4 py-2 w-[400px] text-[#919aca] text-sm font-normal leading-normal">{{ fund.reason }}</td>
                    </tr>
                  
                  </tbody>
                </table>
              </div>
              <style>
                @container(max-width:120px){.table-b63604b9-f405-4dd7-955a-183a79b493b4-column-120{display: none;}}
                @container(max-width:240px){.table-b63604b9-f405-4dd7-955a-183a79b493b4-column-240{display: none;}}
                @container(max-width:360px){.table-b63604b9-f405-4dd7-955a-183a79b493b4-column-360{display: none;}}
                @container(max-width:480px){.table-b63604b9-f405-4dd7-955a-183a79b493b4-column-480{display: none;}}
              </style>
            </div>
          </div>
        </div>
        <footer class="flex justify-center">
          <div class="flex max-w-[960px] flex-1 flex-col">
            <footer class="flex flex-col gap-6 px-5 py-10 text-center @container">
              <div class="flex flex-wrap items-center justify-center gap-6 @[480px]:flex-row @[480px]:justify-around">
                <a class="text-[#919aca] text-base font-normal leading-normal min-w-40" href="#">Privacy Policy</a>
                <a class="text-[#919aca] text-base font-normal leading-normal min-w-40" href="#">Terms of Service</a>
                <a class="text-[#919aca] text-base font-normal leading-normal min-w-40" href="#">Contact Us</a>
              </div>
              <div class="flex flex-wrap justify-center gap-4">
                <a href="#">
                  <div class="text-[#919aca]" data-icon="FacebookLogo" data-size="24px" data-weight="regular">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path
                        d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,191.63V152h24a8,8,0,0,0,0-16H136V112a16,16,0,0,1,16-16h16a8,8,0,0,0,0-16H152a32,32,0,0,0-32,32v24H96a8,8,0,0,0,0,16h24v63.63a88,88,0,1,1,16,0Z"
                      ></path>
                    </svg>
                  </div>
                </a>
                <a href="#">
                  <div class="text-[#919aca]" data-icon="TwitterLogo" data-size="24px" data-weight="regular">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path
                        d="M247.39,68.94A8,8,0,0,0,240,64H209.57A48.66,48.66,0,0,0,168.1,40a46.91,46.91,0,0,0-33.75,13.7A47.9,47.9,0,0,0,120,88v6.09C79.74,83.47,46.81,50.72,46.46,50.37a8,8,0,0,0-13.65,4.92c-4.31,47.79,9.57,79.77,22,98.18a110.93,110.93,0,0,0,21.88,24.2c-15.23,17.53-39.21,26.74-39.47,26.84a8,8,0,0,0-3.85,11.93c.75,1.12,3.75,5.05,11.08,8.72C53.51,229.7,65.48,232,80,232c70.67,0,129.72-54.42,135.75-124.44l29.91-29.9A8,8,0,0,0,247.39,68.94Zm-45,29.41a8,8,0,0,0-2.32,5.14C196,166.58,143.28,216,80,216c-10.56,0-18-1.4-23.22-3.08,11.51-6.25,27.56-17,37.88-32.48A8,8,0,0,0,92,169.08c-.47-.27-43.91-26.34-44-96,16,13,45.25,33.17,78.67,38.79A8,8,0,0,0,136,104V88a32,32,0,0,1,9.6-22.92A30.94,30.94,0,0,1,167.9,56c12.66.16,24.49,7.88,29.44,19.21A8,8,0,0,0,204.67,80h16Z"
                      ></path>
                    </svg>
                  </div>
                </a>
                <a href="#">
                  <div class="text-[#919aca]" data-icon="LinkedinLogo" data-size="24px" data-weight="regular">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path
                        d="M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm0,192H40V40H216V216ZM96,112v64a8,8,0,0,1-16,0V112a8,8,0,0,1,16,0Zm88,28v36a8,8,0,0,1-16,0V140a20,20,0,0,0-40,0v36a8,8,0,0,1-16,0V112a8,8,0,0,1,15.79-1.78A36,36,0,0,1,184,140ZM100,84A12,12,0,1,1,88,72,12,12,0,0,1,100,84Z"
                      ></path>
                    </svg>
                  </div>
                </a>
              </div>
              <p class="text-[#919aca] text-base font-normal leading-normal">© 2025 3finityAI. All rights reserved.</p>
            </footer>
          </div>
        </footer>
      </div>
    </div>
    <app-modal *ngIf="showModal" [mutFundData]="mutFundData" (closeModal)="showModal = false"></app-modal>

